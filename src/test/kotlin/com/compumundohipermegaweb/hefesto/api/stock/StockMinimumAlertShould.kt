package com.compumundohipermegaweb.hefesto.api.stock


class StockMinimumAlertShould {

    /*private lateinit var stockRepository: StockRepository
    @Autowired
    private val javaMailSender: JavaMailSender = TODO()
    private lateinit var userRepository: UserRepository

    private lateinit var stockMinimumAlert: StockMinimumAlert

    @Test
    fun `alert minimum stock`() {
        givenStockRepository()
        givenUserRepository()
        givenStockMinimumAlert()

        whenAlertMinimumStock()

        thenTheMinimumStockIsAlerted()
    }

    private fun givenStockRepository() {
        stockRepository = mock()
        `when`(stockRepository.findAllInStock(1)).thenReturn(listOf(STOCK))
    }

    private fun givenUserRepository() {
        userRepository = mock()
        `when`(userRepository.findByCode("1")).thenReturn(listOf(USER))
    }

    private fun givenStockMinimumAlert() {
        stockMinimumAlert = StockMinimumAlert(stockRepository, javaMailSender, userRepository)
    }

    private fun whenAlertMinimumStock() {
        stockMinimumAlert.invoke(1)
    }

    private fun thenTheMinimumStockIsAlerted() {
        verify(stockRepository).findAllInStock(1)
    }

    private companion object {
        private val STOCK = Stock(0L, "", 1L, 100, 100, 50, "")
        private val USER = User("1", "", "", Role.SUPERVISOR)
    }*/
}